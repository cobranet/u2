<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../u2-search/u2-search.html">
<link rel="import" href="../u2-siteinfo/u2-siteinfo.html">
<link rel="import" href="../u2-sscore/u2-sscore.html">
<dom-module id="u2-site">
    <template>
	<style>
	 :host {
             display: block;
	 }
	 .site {
	     padding: 10px;

	 }
	 .sitepaper {
	     min-width: 200px;
	 }
	 .sitecontent {
	     min-height: 150px;
	 }
	 .card-action {
	     text-align: center;
	     padding: 30px;
	 }
	 .searchbtn {
	     background: blue;
	     margin: 20px;
	     color: white;
	     padding: 10px;
	     margin-top: 20px;
	 }
	</style>
	<div class="site horizontal">
	  <span>{{site.state}}</span>
	  <span>{{arrayItem(site.search.top.*,index)}}</span>
	    <paper-card class="sitepaper" heading="{{site.name}}">
		<div class="card-content sitecontent" style="background:url({{site.image}})" >
		    <div class="info">
			<u2-search hidden$="{{!isSearchShown(site.state)}}"  search="{{site.search}}"></u2-search>
			<u2-siteinfo hidden$="{{!isInfoShown(site.state)}}" site="{{site}}"></u2-siteinfo>
			<u2-sscore hidden$="{{!isResultShown(site.state)}}"  score = "{{score(site.search.finalScore)}}" ></u2-sscore>
		    </div>
		    <div hidden$="{{!isButtonVisible(site.state)}}" class="card-action">
			<paper-button raised class="searchbtn" on-tap="search" >SEARCH</paper-button>
		    </div>
		</div>
	    </paper-card>
	    
	</div>
    </template>
    <script src="/utopia.js"></script>
    <script src='u2-site.js'></script>
</dom-module>
    
